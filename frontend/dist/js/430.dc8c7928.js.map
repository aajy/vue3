{"version":3,"file":"js/430.dc8c7928.js","mappings":"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","sources":["webpack://vue-test/./src/views/LoginView.vue?461f","webpack://vue-test/./src/plugins/googleAuth.ts","webpack://vue-test/./src/views/LoginView.vue?9d54","webpack://vue-test/./src/views/LoginView.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/logo.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e1b43d20\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"px-3 py-2 text-bg-dark\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", { src: _imports_0 }, null, -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"currentColor\",\n  class: \"bi bi-google\",\n  viewBox: \"0 0 16 16\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", { d: \"M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z\" })\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_b_card_text = _resolveComponent(\"b-card-text\")!\n  const _component_b_button = _resolveComponent(\"b-button\")!\n  const _component_b_card = _resolveComponent(\"b-card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_b_card, {\n      title: \"Login with Google\",\n      \"img-alt\": \"Cyworld Administrator Login\",\n      \"img-top\": \"\",\n      class: \"px-3 py-2 text-bg-dark\",\n      style: {\"align-items\":\"center\"}\n    }, {\n      default: _withCtx(() => [\n        _hoisted_2,\n        _createVNode(_component_b_card_text, null, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Login with Google \")\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_b_button, {\n          variant: \"outline-primary\",\n          onClick: _ctx.signIn\n        }, {\n          default: _withCtx(() => [\n            _hoisted_3,\n            _createTextVNode(\" Login with Google \")\n          ]),\n          _: 1\n        }, 8, [\"onClick\"])\n      ]),\n      _: 1\n    })\n  ]))\n}","declare global {\r\n  interface Window { gapi: any }\r\n}\r\n\r\nconst googleAuth = ((): any => {\r\n  const installClient = () => {\r\n    const apiUrl = 'https://apis.google.com/js/api.js'\r\n    return new Promise<void>((resolve) => {\r\n      const script: any = document.createElement('script')\r\n      script.src = apiUrl\r\n      script.onreadystatechange = script.onload = () => {\r\n        if (!script.readyState || /loaded|complete/.test(script.readyState)) {\r\n          setTimeout(() => {\r\n            resolve()\r\n          }, 500)\r\n        }\r\n      }\r\n      document.getElementsByTagName('head')[0].appendChild(script)\r\n    })\r\n  }\r\n\r\n  const initClient = (config: any) => {\r\n    return new Promise((resolve, reject) => {\r\n      window.gapi.load('auth2', () => {\r\n        window.gapi.auth2.init(config).then(() => {\r\n          resolve(window.gapi)\r\n        }).catch((error: any) => {\r\n          reject(error)\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  const Auth = function (this: any) {\r\n    this.GoogleAuth = null /* window.gapi.auth2.getAuthInstance() */\r\n    this.isAuthorized = false\r\n    this.isInit = false\r\n    this.prompt = null\r\n    this.isLoaded = () => {\r\n      // tslint:disable-next-line\r\n      console.warn('isLoaded() will be deprecated. You can use \"this.$gAuth.isInit\"')\r\n      return !!this.GoogleAuth\r\n    }\r\n\r\n    this.load = (config: any, prompt: string) => {\r\n      installClient().then(() => {\r\n        return initClient(config)\r\n      }).then((gapi: any) => {\r\n        this.GoogleAuth = gapi.auth2.getAuthInstance()\r\n        this.isInit = true\r\n        this.prompt = prompt\r\n        this.isAuthorized = this.GoogleAuth.isSignedIn.get()\r\n      }).catch((error) => {\r\n        console.error(error)\r\n      })\r\n    }\r\n\r\n    this.signIn = (successCallback: any, errorCallback: any) => {\r\n      console.log('this.signIn')\r\n      return new Promise((resolve, reject) => {\r\n        if (!this.GoogleAuth) {\r\n          if (typeof errorCallback === 'function') {\r\n            errorCallback(false)\r\n          }\r\n          return\r\n        }\r\n        this.GoogleAuth.signIn().then((googleUser: any) => {\r\n          if (typeof successCallback === 'function') {\r\n            successCallback(googleUser)\r\n          }\r\n          this.isAuthorized = this.GoogleAuth.isSignedIn.get()(googleUser)\r\n        }).catch((error: any) => {\r\n          if (typeof errorCallback === 'function') {\r\n            errorCallback(error)\r\n          }\r\n          reject(error)\r\n        })\r\n      })\r\n    }\r\n\r\n    this.getAuthCode = (successCallback: any, errorCallback: any) => {\r\n      console.log('this.getAuthCode')\r\n      return new Promise((resolve, reject) => {\r\n        if (!this.GoogleAuth) {\r\n          if (typeof errorCallback === 'function') {\r\n            errorCallback(false)\r\n          }\r\n          return\r\n        }\r\n        this.GoogleAuth.grantOfflineAccess({ prompt: this.prompt }).then((resp: any) => {\r\n          if (typeof successCallback === 'function') {\r\n            successCallback(resp.code)\r\n          }\r\n          resolve(resp.code)\r\n        }).catch((error: any) => {\r\n          if (typeof errorCallback === 'function') {\r\n            errorCallback(error)\r\n          }\r\n          reject(error)\r\n        })\r\n      })\r\n    }\r\n\r\n    this.signOut = (successCallback: any, errorCallback: any) => {\r\n      console.log('this.signOut')\r\n      return new Promise((resolve, reject) => {\r\n        if (!this.GoogleAuth) {\r\n          if (typeof errorCallback === 'function') {\r\n            errorCallback(false)\r\n          }\r\n          return\r\n        }\r\n        this.GoogleAuth.signOut().then(() => {\r\n          if (typeof successCallback === 'function') {\r\n            successCallback()\r\n          }\r\n          this.isAuthorized = false\r\n          resolve(true)\r\n        }).catch((error: any) => {\r\n          if (typeof errorCallback === 'function') {\r\n            errorCallback(error)\r\n          }\r\n          reject(error)\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  return new (Auth as any)()\r\n})()\r\n\r\nexport async function installGoogleAuth (options: any): Promise<any> {\r\n  // set config\r\n  let GoogleAuthConfig: any = null\r\n  const GoogleAuthDefaultConfig = {\r\n    scope: 'profile email'\r\n  }\r\n  let prompt = 'select_account'\r\n  if (typeof options === 'object') {\r\n    GoogleAuthConfig = Object.assign(GoogleAuthDefaultConfig, options)\r\n    if (options.scope) {\r\n      GoogleAuthConfig.scope = options.scope\r\n    }\r\n    if (options.prompt) {\r\n      prompt = options.prompt\r\n    }\r\n    if (!options.clientId) {\r\n      // tslint:disable-next-line\r\n      console.warn('clientId is required')\r\n    }\r\n  } else {\r\n    // tslint:disable-next-line\r\n    console.warn('invalid option type. Object type accepted only')\r\n  }\r\n  await googleAuth.load(GoogleAuthConfig, prompt)\r\n  return googleAuth\r\n}\r\n","\r\n\r\nimport { defineComponent, onMounted, ref } from '@vue/runtime-core'\r\nimport { installGoogleAuth } from '@/plugins/googleAuth'\r\n\r\nexport default defineComponent({\r\n  name: 'SignIn',\r\n  setup () {\r\n    let gAuth: any = null\r\n    const user = ref({})\r\n    const options = {\r\n      clientId: '6667766591-557va892oq8617ne34eq5mqlsfm0t3sa.apps.googleusercontent.com',\r\n      scope: 'profile email',\r\n      prompt: 'select_account'\r\n    }\r\n    function signIn (): void {\r\n      if (!gAuth) return\r\n      gAuth.signIn().then((googleUser: any) => {\r\n        user.value = googleUser\r\n      }).catch((e: any) => {\r\n        console.log('error', e)\r\n      })\r\n    }\r\n    function signOut (): void {\r\n      if (!gAuth) return\r\n      gAuth.signOut()\r\n    }\r\n    onMounted(async () => {\r\n      gAuth = await installGoogleAuth(options)\r\n    })\r\n    return { user, signIn, signOut }\r\n  }\r\n})\r\n\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=e1b43d20&scoped=true&ts=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=ts\"\nexport * from \"./LoginView.vue?vue&type=script&lang=ts\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=e1b43d20&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\aajy0\\\\OneDrive\\\\바탕 화면\\\\framework-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e1b43d20\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","src","_imports_0","_hoisted_3","xmlns","width","height","fill","viewBox","d","render","_ctx","_cache","$props","$setup","$data","$options","_component_b_card_text","_resolveComponent","_component_b_button","_component_b_card","_openBlock","_createElementBlock","_createVNode","title","style","default","_withCtx","_createTextVNode","_","variant","onClick","signIn","googleAuth","installClient","apiUrl","Promise","resolve","script","document","createElement","onreadystatechange","onload","readyState","test","setTimeout","getElementsByTagName","appendChild","initClient","config","reject","window","gapi","load","auth2","init","then","catch","error","Auth","this","GoogleAuth","isAuthorized","isInit","prompt","isLoaded","console","warn","getAuthInstance","isSignedIn","get","successCallback","errorCallback","log","googleUser","getAuthCode","grantOfflineAccess","resp","code","signOut","async","installGoogleAuth","options","GoogleAuthConfig","GoogleAuthDefaultConfig","scope","Object","assign","clientId","defineComponent","name","setup","gAuth","user","ref","value","e","onMounted","__exports__"],"sourceRoot":""}